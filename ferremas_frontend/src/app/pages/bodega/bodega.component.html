<app-navbar></app-navbar>
  <div class="container mt-5">
    <h2>Gestión de Stock</h2>
    <div *ngIf="mensaje" class="alert alert-info">{{mensaje}}</div>
    <div *ngIf="cargando" class="text-center my-5">
      <div class="spinner-border text-success" role="status">
        <span class="visually-hidden">Cargando...</span>
      </div>
    </div>
    <div *ngIf="!cargando && productos.length === 0">
      <p class="text-muted">No hay productos registrados.</p>
    </div>
    <div *ngIf="!cargando && productos.length > 0">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Stock</th>
            <th>Acción</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of productos">
            <td>{{producto.id}}</td>
            <td>{{producto.nombre}}</td>
            <td>
              <input type="number" [(ngModel)]="producto.stock" min="0" class="form-control" style="width:100px; display:inline-block;">
            </td>
            <td>
              <button class="btn btn-primary btn-sm" (click)="actualizarStock(producto)">Guardar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>